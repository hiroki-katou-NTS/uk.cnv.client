<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:com="http://xmlns.jcp.org/jsf/component" xmlns:h="http://xmlns.jcp.org/jsf/html">

<body>
    <ui:composition template="../../../../master/dialog.xhtml">
        <ui:define name="htmlHead">
            <script>var dialogSize = { width: 1060, height: 850 };</script>
            <com:EnumScript>
				nts.uk.ctx.at.aggregation.dom.scheduletable.ScheduleTablePersonalInfoItem
                nts.uk.ctx.at.aggregation.dom.scheduletable.ScheduleTableAttendanceItem
                nts.uk.ctx.at.aggregation.dom.schedulecounter.tally.WorkplaceCounterCategory
                nts.uk.ctx.at.aggregation.dom.schedulecounter.tally.PersonalCounterCategory
			</com:EnumScript>
            <com:ValidatorScript>
                nts.uk.ctx.at.aggregation.dom.scheduletable.OutputSettingCode
                nts.uk.ctx.at.aggregation.dom.scheduletable.OutputSettingName                
            </com:ValidatorScript>
            <com:scriptfile set="IGNITE" />
            <com:stylefile path="ksu005.b.style.css" />
            <com:scriptfile path="ksu005.b.vm.js" />
        </ui:define>

        <!-- PAGE CONTENT -->
        <ui:define name="content">
            <div id="functions-area">
                <!--B1-1-->
                <button tabindex="1" id="B1_1" data-bind="click: clearData">#{i18n.getText('KSU005_12')}</button>
                <!--B1-2-->
                <button tabindex="2" class="proceed" id="B1_2" data-bind="click: registerOrUpdate, enable: $root.errors.isEmpty">#{i18n.getText('KSU005_13')}</button>
                <!--B1-3-->
                <button tabindex="3" class="danger" id="B1_3" data-bind="click: remove, enable: enableDelete()">#{i18n.getText('KSU005_15')}</button>
                <!--B1-4-->
                <button tabindex="4" id="B1_4" data-bind="click: openDialog, enable: enableDelete()">#{i18n.getText('KSU005_14')}</button>
                <!--B1-5-->
                <button tabindex="5" id="B1_5" data-bind="click: closeDialog">#{i18n.getText('KSU005_16')}</button>
            </div>
            <div id="contents-area">
                <div id="left-content" class="fixed-flex-layout-left">                    
                    <div
                        data-bind="ntsPanel: {width: '220px', height:'320px', direction:'right', showIcon: true, visible: true}">
                        <div class="custom">
                            <i class="icon icon-searchbox"></i>
                        </div>
                        <div style="width: 222px" tabindex="6"
                            data-bind="ntsSearchBox: {targetKey: 'code', comId: 'single-list', searchMode: 'highlight', 
                                            items: items, selected: selectedCode, selectedKey: 'code', fields: ['code','name'], mode: 'igGrid'}" />
                        <table id="single-list" data-bind="ntsGridList: {								
                            height: 220,
                            dataSource: items,
                            primaryKey: 'code',
                            columns: columns,
                            multiple: false,
                            value: selectedCode
                        }"></table>
                    </div>
                </div>

                <div id="right-content" class="fixed-flex-layout-right">
                    <div class="container-custom">
                        <!--B3-1-->
                        <div
                            data-bind="ntsFormLabel:{required:true, constraint:['OutputSettingCode','OutputSettingName']}">
                            #{i18n.getText('KSU005_20')}</div>

                        <!--B3-2-->
                        <div>
                            <input tabindex="7" id="outputSettingCode" data-bind="ntsTextEditor:{
                                name:'#[KSU005_21]',
                                required: true,
                                constraint: 'OutputSettingCode',
                                option: ko.mapping.fromJS(new nts.uk.ui.option.TextEditorOption({                                        
                                    width: '20px',
                                    textalign: 'left'
                                })),                  
                                enable: scheduleTableOutputSetting().isEnableCode,
                                value: scheduleTableOutputSetting().code                         
                                
                            }" />
                        </div>

                        <!--B3-3-->
                        <div style="margin-left: 8px;">
                            <input tabindex="8" id="outputSettingName" data-bind="ntsTextEditor:{
                                name:'#[KSU005_22]',
                                required: true,
                                constraint: 'OutputSettingName',
                                option: ko.mapping.fromJS(new nts.uk.ui.option.TextEditorOption({                                        
                                    width: '100px',
                                    textalign: 'left'
                                })),            
                                value: scheduleTableOutputSetting().name                           
                            }" />
                        </div>
                    </div>

                    <div style="margin-top:10px" >
                        <div id="tab-panel" tabindex="9" data-bind="ntsTabPanel: { width: 250, dataSource: tabs, active: selectedTab}">
                            <div id = "tab-1" class="tab-content-1 tab1-content-fixsize">                             
                                <div class="container-tab-custom">
                                    <!--B5-1-->
                                    <div data-bind="ntsFormLabel:{required: false}"> #{i18n.getText('KSU005_26')}</div>
                                    <div style="width: 90px;"></div>
                                    <!--B5-2-->
                                    <div class="cf" tabindex="10" data-bind="ntsSwitchButton: {
                                                                    name: '#[KSU005_26]',
                                                                    options: $vm.lstAddColInfo,
                                                                    optionsValue: 'code',
                                                                    optionsText: 'name',
                                                                    value: $vm.scheduleTableOutputSetting().additionalColumn,
                                                                    required: true,
                                                                    enable: true }"></div>
                                </div>
                                <div class="container-tab-custom">
                                    <!--B6-1-->
                                    <div data-bind="ntsFormLabel:{required: false}"> #{i18n.getText('KSU005_29')}</div>
                                    <div style="width: 98px;"></div>
                                    <!--B6-2-->
                                    <div tabindex="11" data-bind="ntsCheckBox: { checked: isShiftBackgroundColor}">#{i18n.getText('KSU005_30')}
                                    </div>
                                </div>
                                <div class="container-tab-custom">
                                    <!--B7-1-->
                                    <div data-bind="ntsFormLabel:{required: false}"> #{i18n.getText('KSU005_72')}</div>
                                    <div style="width: 106px;"></div>
                                    <!--B7-2-->
                                    <div class="cf" tabindex="12" data-bind="ntsSwitchButton: {
                                                                                                    name: '#[KSU005_72]',
                                                                                                    options: $vm.lstWorkInfo,
                                                                                                    optionsValue: 'code',
                                                                                                    optionsText: 'name',
                                                                                                    value: $vm.scheduleTableOutputSetting().dailyDataDisplay,
                                                                                                    required: true,
                                                                                                    enable: true }"></div>
                                </div>
                                <div>
                                    <!--B8-1-->
                                    <div data-bind="ntsFormLabel:{required: true}"> #{i18n.getText('KSU005_31')}</div>
                                
                                    <!--B8-2-->
                                    <button tabindex="13" id="B8_2"
                                        data-bind="click: addItem, enable:isEnableAddBtn">#{i18n.getText('KSU005_32')}</button>
                                
                                    <!--B8-3-->
                                    <button tabindex="14" id="B8_3" class="danger"
                                        data-bind="click: removeItem, enable:isEnableDelBtn">#{i18n.getText('KSU005_33')}</button>
                                </div>
                                 
                                <div style="margin: 15px 0px 0px 80px;">   
                                     <!--B8-4-->                                 
                                    <table tabindex="15" id="fixed-table">
                                        <colgroup>
                                            <col width="30px" />
                                            <col width="40px" />
                                            <col width="160px" />
                                            <col width="160px" />
                                            <col width="160px" />
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th class="ui-widget-header" rowspan="2"></th>

                                                 <!--B8-5--> 
                                                <th class="ui-widget-header" rowspan="2"><div data-bind="ntsCheckBox: { checked: checkAll }"></div></th>

                                                 <!--B8-6--> 
                                                <th class="ui-widget-header" rowspan="2">#{i18n.getText('KSU005_34')}</th>

                                                 <!--B8-7--> 
                                                <th class="ui-widget-header" rowspan="2">#{i18n.getText('KSU005_35')}</th>

                                                 <!--B8-8--> 
                                                <th class="ui-widget-header" rowspan="2">#{i18n.getText('KSU005_36')}</th>                                
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: itemList">
                                            <tr>   
                                                <td role="rowheader" data-bind="text: rowNo"></td> 
                                                <td  data-bind="visible: isNumberOne"></td>  
                                                
                                                 <!--B8-12--> 
                                                 <td tabindex="18" data-bind="visible: !isNumberOne()" style="text-align: center;">
                                                    <div data-bind="ntsCheckBox: {checked: checked}"></div>
                                                </td>

                                                 <!--B8-9-->                                            
                                                <td  data-bind="visible: isNumberOne">#{i18n.getText('KSU005_37')}</td>

                                                <!--B8-13--> 
                                                <td  data-bind="visible: !isNumberOne()"><div tabindex="19" id="combo-box" data-bind="ntsComboBox: {
                                                    options: $parent.personalInfoItems,
                                                    width: 150,
                                                    optionsValue: 'value',
                                                    visibleItemsCount: 5,
                                                    value: personalInfo,
                                                    optionsText: 'name',
                                                    columns: [
                                                            { prop: 'name', length: 10 },
                                                        ]}"></div>
                                                </td>

                                                <!--B8-10--> 
                                                <td><div tabindex="16" id="combo-box" data-bind="ntsComboBox: {
                                                    options: $parent.personalInfoItems,
                                                    width: 150,
                                                    optionsValue: 'value',
                                                    visibleItemsCount: 5,
                                                    value: additionInfo,
                                                    optionsText: 'name',
                                                    enable: $parent.isEnableAdditionInfo,
                                                    columns: [
                                                            { prop: 'name', length: 10 },
                                                        ]}"></div>
                                                </td>

                                                <!--B8-11--> 
                                                <td><div tabindex="17" id="combo-box" data-bind="ntsComboBox: {
                                                    options: $parent.attendanceItems,
                                                    width: 150,
                                                    optionsValue: 'value',
                                                    visibleItemsCount: 5,
                                                    value: attendanceItem,
                                                    optionsText: 'name',
                                                    enable: $parent.isEnableAttendanceItem,
                                                    columns: [
                                                            { prop: 'name', length: 10 },
                                                        ]}"></div>
                                                </td>                                                        
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div  id = "tab-2" class="tab-content-2 tab-content-fixsize">
                                <div class="container-tab-custom">
                                    <!--B9-1-->
                                    <div data-bind="ntsFormLabel:{required: false}"> #{i18n.getText('KSU005_38')}</div>
                            
                                    <div tabindex="21" style="margin-top: 12px;" id="swap-list" data-bind="ntsSwapList: {
                                                                                                    showSearchBox: { showLeft : false, showRight: false},
                                                                                                    height: 300,
                                                                                                    dataSource: itemsSwap,                                   
                                                                                                    primaryKey: 'value',
                                                                                                    columns: columns2,
                                                                                                    disableMoveButton: false,
                                                                                                    value: currentCodeListSwap,
                                                                                                    draggable: true,
                                                                                                    multipleDrag: { left: true, right: false },
                                                                                                    innerDrag: { left: false, right: true },
                                                                                                    outerDrag: { left: true, right: true } 
                                                                                                }"></div>
                            
                                    <div id="up-down" data-bind="ntsUpDown: {
                                                                                targetSource: currentCodeListSwap,
                                                                                primaryKey: 'value',
                                                                                comId: '#swap-list',
                                                                                type: 'swap',
                                                                                swapTarget: 'right'
                                                                            }"></div>
                                </div>
                            </div>
                            <div  id = "tab-3" class="tab-content-3 tab-content-fixsize">
                                <div class="container-tab-custom">
                                    <!--B10-1-->
                                    <div data-bind="ntsFormLabel:{required: false}"> #{i18n.getText('KSU005_46')}</div>
                            
                                    <!--B10-2-->
                                    <div style="margin-top: 12px; margin-left: 10px;">
                                    <table tabindex="23" id="person-list" data-bind="ntsGridList: {								
                                                                height: 250,
                                                                dataSource: persons,
                                                                primaryKey: 'value',
                                                                columns: columns3,
                                                                multiple: false,                                                                
                                                                value: selectedPerson,
                                                                rows: 11
                                                            }"></table>
                                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</body>

</html>