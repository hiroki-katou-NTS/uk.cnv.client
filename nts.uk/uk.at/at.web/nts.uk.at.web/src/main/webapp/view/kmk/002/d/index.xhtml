<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 775,
					height : 400
				};
			</script>
			<com:ValidatorScript>
				nts.uk.ctx.at.shared.dom.common.anyitem.AnyTimeMonth
				nts.uk.ctx.at.shared.dom.scherec.optitem.calculation.InputValue
			</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="kmk002.d.style.css" />
			<com:scriptfile path="../a/kmk002.a.service.js" />
			<com:scriptfile path="kmk002.d.start.js" />
			<com:scriptfile path="kmk002.d.vm.js" />
		</ui:define>

		<ui:define name="content">
			<div id="contents-area" style="display: none" data-bind="visible: true">
			<com:ko tag="with" bind="formulaSetting">
				<div data-bind="ntsFormLabel: {required: false}">#{i18n.getText('KMK002_24')}</div>
				<div data-bind="ntsFormLabel: {text: formulaAtr}" style="margin-right: 100px">
				</div>
				<div data-bind="ntsFormLabel: {required: false}">#{i18n.getText('KMK002_34')}</div>
				<div data-bind="ntsFormLabel: {text: formulaName}">
				</div>
				<hr/>
				<table id="tbl-formulaSetting">
					<tbody>
						<tr>
							<td>
								<div data-bind="ntsFormLabel: {required: false}">#{i18n.getText('KMK002_62')}</div>
								<hr/>
							</td>
							<td></td>
							<td>
								<div data-bind="ntsFormLabel: {required: false}">#{i18n.getText('KMK002_69')}</div>
								<hr/>
							</td>
						</tr>
						<tr>
							<td>
								<div style="display: flex">
										<label data-bind="ntsRadioButton: {
										name: 'KMK002_63',
										checkedValue: 0,
										checked: leftItem.settingMethod,
										optionText: 'KMK002_64'}">
										</label>
									<div tabindex="2" id="cbb-left-item" class="inline-table"
										data-bind="ntsComboBox: {
										name: '#[KMK002_66]',
										options: selectableFormulas,
										optionsValue: 'formulaId',
										value: leftItem.formulaItemId,
										optionsText: 'formulaName',
										editable: false,
										enable: isLeftCbbEnable,
										columns: [
											{ prop: 'symbolValue', length: 1 },
											{ prop: 'formulaName', length: 6 },
										]}">
									</div>
								</div>
							</td>
							<td rowspan="2">
								<div tabindex="4" id="cbb-operator"
									data-bind="ntsComboBox: {
									name: '#[KMK002_68]',
									options: operatorDatasource,
									optionsValue: 'value',
									value: operator,
									optionsText: 'localizedName',
									editable: false,
									enable: true,
									columns: [
										{ prop: 'localizedName', length: 1 }
									]}">
								</div>
							</td>
							<td>
								<div style="display: flex">
									<label data-bind="ntsRadioButton: {
										name: 'KMK002_121',
										checkedValue: 0,
										checked: rightItem.settingMethod,
										optionText: 'KMK002_64'}">
									</label>
								<div tabindex="6" id="cbb-right-item" class="inline-table"
									data-bind="ntsComboBox: {
									name: '#[KMK002_66]',
									options: selectableFormulas,
									optionsValue: 'formulaId',
									value: rightItem.formulaItemId,
									optionsText: 'formulaName',
									editable: false,
									enable: isRightCbbEnable,
									columns: [
										{ prop: 'symbolValue', length: 6 },
										{ prop: 'formulaName', length: 6 },
									]}">
								</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div data-bind="if: isD29()">
									<label data-bind="ntsRadioButton: {
										name: 'KMK002_63',
										checkedValue: 1,
										checked: leftItem.settingMethod,
										optionText: 'KMK002_65'}">
									</label>
									<input tabindex="3" class=""
										id="inp-left-item"
										data-bind="ntsTimeEditor: {
										name: '#[KMK002_172]',
	                                    value: leftItem.inputValue,
	                                    constraint: 'AnyTimeMonth',
	                                    inputFormat: 'time',
                                        mode: 'time',
	                                    readonly: false,
	                                    enable: leftItem.isInputValue(), 
	                                    required: true,
	                                    }"/>
		                         </div>
								<!--D2_8-->
								<div data-bind="if: !isD29()">
									<label data-bind="ntsRadioButton: {
										name: 'KMK002_63',
										checkedValue: 1,
										checked: leftItem.settingMethod,
										optionText: 'KMK002_65'}">
									</label>
									<input tabindex="3" class="inputNumberic"
										   id="inp-left-item_1"
										   data-bind="ntsNumberEditor: {
										name: '#[KMK002_67]',
	                                    value: leftItem.inputValue,
	                                    constraint: 'InputValue',
	                                    option: {
		                                    grouplength: 3,
		                                    decimallength: 2
	                                    },
	                                    enable: leftItem.isInputValue(),
	                                    required: true,
	                                    }"/>
								</div>
							</td>
							<td>
								<div data-bind="if: isD49()" >
										<label data-bind="ntsRadioButton: {
										name: 'KMK002_121',
										checkedValue: 1,
										checked: rightItem.settingMethod,
										optionText: 'KMK002_65'}">
										</label>
									<input tabindex="7" id="inp-right-item" class="inputNumberic"
										data-bind="ntsTimeEditor: {
									  	name: '#[KMK002_172]',
	                                    value: rightItem.inputValue,
	                                    constraint: 'AnyTimeMonth',
	                                    inputFormat: 'time',
                                         mode: 'time',
	                                    readonly: false,
	                                    enable: rightItem.isInputValue(), 
	                                    required: true}"/>
                               </div>
								<div data-bind="if: !isD49()" >
									<label data-bind="ntsRadioButton: {
										name: 'KMK002_121',
										checkedValue: 1,
										checked: rightItem.settingMethod,
										optionText: 'KMK002_65'}">
									</label>
									<input tabindex="7" id="inp-right-item2" class="inputNumberic"
										   data-bind="ntsNumberEditor: {
									  	name: '#[KMK002_67]',
	                                    value: rightItem.inputValue,
	                                    constraint: 'InputValue',
	                                    option: {
		                                    grouplength: 3,
		                                    decimallength: 2
	                                    },
	                                    enable: rightItem.isInputValue(),
	                                    required: true}"/>
								</div>

							</td>
						</tr>
						<tr>
							<td>
								<hr/>
								<div tabindex="8"
									data-bind="ntsCheckBox: {
									checked: minusSegment,
									enable: true,
									text: nts.uk.resource.getText('KMK002_59') }">
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</com:ko>
			</div>
			<div id="functions-area-bottom">
				<button tabindex="9" class="x-large proceed" data-bind="click: apply">#{i18n.getText('KMK002_60')}</button>
				<button tabindex="10" data-bind="click: close">#{i18n.getText('KMK002_61')}</button>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>